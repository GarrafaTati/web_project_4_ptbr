!function(){"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n){for(var r=0;r<n.length;r++){var o=n[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(void 0,i=function(t,n){if("object"!==e(t)||null===t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,"string");if("object"!==e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(o.key),"symbol"===e(i)?i:String(i)),o)}var i}var n=function(){function e(t,n){var r=t.cardData,o=t.handleButtonClick;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=r.name,this._link=r.link,this.handleButtonClick=o,this._cardSelector=n}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".place").cloneNode(!0)}},{key:"createCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._element.querySelector(".title").textContent=this._name,this._element.querySelector(".place__img").src=this._link,this._element.querySelector(".place__img").alt=this._name,this._element}},{key:"_setEventListeners",value:function(){var e=this;this._element.querySelector(".place__likeicon").addEventListener("click",(function(){return e._likeButton()})),this._element.querySelector(".place__delete").addEventListener("click",(function(){return e._deleteCard()})),this._element.querySelector(".place__image").addEventListener("click",(function(){e.handleButtonClick(e._name,e._link)}))}},{key:"_likeButton",value:function(){this._element.querySelector(".place__likeicon").classList.toggle("place__likeicon_state_active")}},{key:"_deleteCard",value:function(){this._element.remove()}}])&&t(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),e}();function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,i=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===r(i)?i:String(i)),o)}var i}var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._form=n,this._config=t}var t,n;return t=e,(n=[{key:"_toggleButtonState",value:function(e,t){this._hasInvalidInput(e)?(t.classList.add(this._config.inactiveButtonClass),t.setAttribute("disabled",!0)):(t.classList.remove(this._config.inactiveButtonClass),t.removeAttribute("disabled"))}},{key:"_hasInvalidInput",value:function(e){return e.some((function(e){return!e.validity.valid}))}},{key:"_checkInputValidity",value:function(e){e.validity.valid?this._hideError(e):this._showError(e,e.validationMessage)}},{key:"_showError",value:function(e,t){var n=this._form.querySelector(".".concat(e.id,"-error"));e.classList.add(this._config.inputErrorClass),n.textContent=t,n.classList.add(this._config.errorClass)}},{key:"_hideError",value:function(e){var t=this._form.querySelector(".".concat(e.id,"-error"));e.classList.remove(this._config.inputErrorClass),t.classList.remove(this._config.errorClass),t.textContent=""}},{key:"enableValidation",value:function(){var e=this,t=Array.from(this._form.querySelectorAll(this._config.inputSelector)),n=this._form.querySelector(this._config.submitButtonSelector);this._toggleButtonState(t,n),t.forEach((function(r){r.addEventListener("input",(function(){e._checkInputValidity(r),e._toggleButtonState(t,n)}))}))}}])&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===u(o)?o:String(o)),r)}var o}var a=function(){function e(t,n){var r=t.items,o=t.renderer;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._renderedItems=r,this._renderer=o,this._container=document.querySelector(n)}var t,n;return t=e,(n=[{key:"addItem",value:function(e){this._container.append(e)}},{key:"renderer",value:function(){var e=this;this._renderedItems.forEach((function(t){e._renderer(t)}))}}])&&c(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==l(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===l(o)?o:String(o)),r)}var o}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._popup=document.querySelector(t),this._handleEscClose=this._handleEscClose.bind(this)}var t,n;return t=e,(n=[{key:"_handleEscClose",value:function(e){"Escape"===e.key&&this.close()}},{key:"open",value:function(){this._popup.classList.add("modal_state_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popup.classList.remove("modal_state_opened"),document.removeEventListener("keydown",this._handleEscClose);var e=document.querySelectorAll(".form__error"),t=document.querySelectorAll(".form__button"),n=document.querySelectorAll(".form__form");e.forEach((function(e){e.classList.remove("form__error_state_active")})),t.forEach((function(e){e.classList.add("form__button_mode_disabled"),e.setAttribute("disabled",!0)})),n.forEach((function(e){e.reset()}))}},{key:"setEventListeners",value:function(){var e=this;document.querySelectorAll(".modal__close").forEach((function(t){t.addEventListener("click",(function(){e.close()}))})),this._popup.addEventListener("click",(function(t){t.target.classList.contains("modal")&&e.close()}))}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==y(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===y(o)?o:String(o)),r)}var o}function m(){return m="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=b(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},m.apply(this,arguments)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function b(e){return b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},b(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=b(r);if(o){var n=b(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(e=i.call(this,".modal_type_img")).setEventListeners(),e}return t=u,(n=[{key:"open",value:function(e,t){var n=document.querySelector(".modal__wrapper_type_img"),r=n.querySelector(".modal__img"),o=n.querySelector(".modal__title");r.src=t,r.alt=e,o.textContent=e,m(b(u.prototype),"open",this).call(this)}}])&&p(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(f);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==_(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===_(o)?o:String(o)),r)}var o}function S(){return S="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},S.apply(this,arguments)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}(u,e);var t,n,r,o,i=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=w(r);if(o){var n=w(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,e)});function u(e,t){var n,r=t.formSelector,o=t.buttonForm,c=t.handleFormSubmit;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),(n=i.call(this,e))._formSelector=r,n._buttonForm=o,n._handleFormSubmit=c,n.setEventListeners(),n}return t=u,(n=[{key:"_getInputValues",value:function(){var e=this;return this._inputList=document.querySelectorAll(".form__input"),this._formValues={},this._inputList.forEach((function(t){e._formValues[t.name]=t.value})),this._formValues}},{key:"setEventListeners",value:function(){var e=this;document.querySelector(this._buttonForm),document.querySelector(this._formSelector).addEventListener("submit",(function(t){t.preventDefault(),e._handleFormSubmit(e._getInputValues()),e.close()})),S(w(u.prototype),"setEventListeners",this).call(this)}}])&&h(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),u}(f);function E(e){return E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E(e)}function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(void 0,o=function(e,t){if("object"!==E(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==E(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r.key),"symbol"===E(o)?o:String(o)),r)}var o}var O=function(){function e(t){var n=t.selectorName,r=t.selectorAbout;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=document.querySelector(n),this._about=document.querySelector(r)}var t,n;return t=e,(n=[{key:"getUserInfo",value:function(){return{name:this._name.textContent,about:this._about.textContent}}},{key:"setUserInfo",value:function(e,t){this._name.textContent=e,this._about.textContent=t}}])&&j(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),P=".place__template",C=document.querySelector(".places"),L=new v,q=new a({items:[{name:"Vale de Yosemite",link:"https://code.s3.yandex.net/web-code/yosemite.jpg"},{name:"Lago Louise",link:"https://code.s3.yandex.net/web-code/lake-louise.jpg"},{name:"Montanhas Carecas",link:"https://code.s3.yandex.net/web-code/bald-mountains.jpg"},{name:"Latemar",link:"https://code.s3.yandex.net/web-code/latemar.jpg"},{name:"Parque Nacional da Vanoise ",link:"https://code.s3.yandex.net/web-code/vanoise.jpg"},{name:"Lago di Braies",link:"https://code.s3.yandex.net/web-code/lago.jpg"}],renderer:function(e){var t=new n({cardData:e,handleButtonClick:function(e,t){L.open(e,t)}},P).createCard();q.addItem(t)}},".places");q.renderer();var B=document.querySelector(".button_type_edit"),T=document.querySelector(".form__input_type_name"),x=document.querySelector(".form__input_type_about"),R=new O({selectorName:".profile__name",selectorAbout:".profile__aboutme"}),I=new k(".modal_type_edit",{formSelector:".form__form_action_edit",buttonForm:".form__button_action_save",handleFormSubmit:function(){var e={name:T.value,about:x.value};R.setUserInfo(e.name,e.about)}});B.addEventListener("click",(function(){I.open(),T.value=R.getUserInfo().name,x.value=R.getUserInfo().about}));var A=document.querySelector(".button_type_add"),V=document.querySelector(".form__input_type_title"),F=document.querySelector(".form__input_type_link"),D=new k(".modal_type_add",{formSelector:".form__form_action_create",buttonForm:".form__button_action_create",handleFormSubmit:function(){var e={name:V.value,link:F.value},t=new n({cardData:e,handleButtonClick:function(e,t){L.open(e,t)}},P);C.prepend(t.createCard()),V.value="",F.value=""}});A.addEventListener("click",(function(){D.open()}));var U={inputSelector:".form__input",submitButtonSelector:".form__button",inactiveButtonClass:"form__button_mode_disabled",inputErrorClass:"form__input_mode_error",errorClass:"form__error_state_active"},N=document.forms.edit,M=document.forms.add;new i(U,N).enableValidation(),new i(U,M).enableValidation()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoiZ3NCQUFxQkEsRUFBSSxXQUN2QixhQUE2Q0MsR0FBYyxJQUE3Q0MsRUFBUSxFQUFSQSxTQUFVQyxFQUFpQixFQUFqQkEsbUIsNEZBQWlCLFNBQ3ZDQyxLQUFLQyxNQUFRSCxFQUFTSSxLQUN0QkYsS0FBS0csTUFBUUwsRUFBU00sS0FDdEJKLEtBQUtELGtCQUFvQkEsRUFDekJDLEtBQUtLLGNBQWdCUixDQUN2QixDLFFBMENDLE8sRUExQ0EsRyxFQUFBLDJCQUVELFdBTUUsT0FMb0JTLFNBQ2pCQyxjQUFjUCxLQUFLSyxlQUNuQkcsUUFBUUQsY0FBYyxVQUN0QkUsV0FBVSxFQUdmLEdBQUMsd0JBRUQsV0FRRSxPQVBBVCxLQUFLVSxTQUFXVixLQUFLVyxlQUNyQlgsS0FBS1kscUJBRUxaLEtBQUtVLFNBQVNILGNBQWMsVUFBVU0sWUFBY2IsS0FBS0MsTUFDekRELEtBQUtVLFNBQVNILGNBQWMsZUFBZU8sSUFBTWQsS0FBS0csTUFDdERILEtBQUtVLFNBQVNILGNBQWMsZUFBZVEsSUFBTWYsS0FBS0MsTUFFL0NELEtBQUtVLFFBQ2QsR0FBQyxnQ0FFRCxXQUFxQixXQUNBVixLQUFLVSxTQUFTSCxjQUFjLG9CQUNwQ1MsaUJBQWlCLFNBQVMsa0JBQU0sRUFBS0MsYUFBYSxJQUV4Q2pCLEtBQUtVLFNBQVNILGNBQWMsa0JBQ3BDUyxpQkFBaUIsU0FBUyxrQkFBTSxFQUFLRSxhQUFhLElBRTFDbEIsS0FBS1UsU0FBU0gsY0FBYyxpQkFDcENTLGlCQUFpQixTQUFTLFdBQ3JDLEVBQUtqQixrQkFBa0IsRUFBS0UsTUFBTyxFQUFLRSxNQUMxQyxHQUNGLEdBQUMseUJBRUQsV0FDcUJILEtBQUtVLFNBQVNILGNBQWMsb0JBQ3BDWSxVQUFVQyxPQUFPLCtCQUM5QixHQUFDLHlCQUVELFdBQ0VwQixLQUFLVSxTQUFTVyxRQUNoQixNLG9FQUFDLEVBaERzQixHLHVxQkNBSkMsRUFBYSxXQUNoQyxXQUFZQyxFQUFRQyxJLDRGQUFNLFNBQ3hCeEIsS0FBS3lCLE1BQVFELEVBQ2J4QixLQUFLMEIsUUFBVUgsQ0FDakIsQyxRQTBEQyxPLEVBMURBLEcsRUFBQSxpQ0FFRCxTQUFtQkksRUFBV0MsR0FDeEI1QixLQUFLNkIsaUJBQWlCRixJQUN4QkMsRUFBU1QsVUFBVVcsSUFBSTlCLEtBQUswQixRQUFRSyxxQkFDcENILEVBQVNJLGFBQWEsWUFBWSxLQUVsQ0osRUFBU1QsVUFBVUUsT0FBT3JCLEtBQUswQixRQUFRSyxxQkFDdkNILEVBQVNLLGdCQUFnQixZQUU3QixHQUFDLDhCQUVELFNBQWlCTixHQUNmLE9BQU9BLEVBQVVPLE1BQUssU0FBQ0MsR0FDckIsT0FBUUEsRUFBWUMsU0FBU0MsS0FDL0IsR0FDRixHQUFDLGlDQUVELFNBQW9CRixHQUNiQSxFQUFZQyxTQUFTQyxNQUd4QnJDLEtBQUtzQyxXQUFXSCxHQUZoQm5DLEtBQUt1QyxXQUFXSixFQUFhQSxFQUFZSyxrQkFJN0MsR0FBQyx3QkFFRCxTQUFXTCxFQUFhTSxHQUN0QixJQUFNQyxFQUFlMUMsS0FBS3lCLE1BQU1sQixjQUFjLElBQUQsT0FBSzRCLEVBQVlRLEdBQUUsV0FFaEVSLEVBQVloQixVQUFVVyxJQUFJOUIsS0FBSzBCLFFBQVFrQixpQkFDdkNGLEVBQWE3QixZQUFjNEIsRUFDM0JDLEVBQWF2QixVQUFVVyxJQUFJOUIsS0FBSzBCLFFBQVFtQixXQUMxQyxHQUFDLHdCQUVELFNBQVdWLEdBQ1QsSUFBTU8sRUFBZTFDLEtBQUt5QixNQUFNbEIsY0FBYyxJQUFELE9BQUs0QixFQUFZUSxHQUFFLFdBRWhFUixFQUFZaEIsVUFBVUUsT0FBT3JCLEtBQUswQixRQUFRa0IsaUJBQzFDRixFQUFhdkIsVUFBVUUsT0FBT3JCLEtBQUswQixRQUFRbUIsWUFDM0NILEVBQWE3QixZQUFjLEVBQzdCLEdBQUMsOEJBRUQsV0FBbUIsV0FDWGMsRUFBWW1CLE1BQU1DLEtBQ3RCL0MsS0FBS3lCLE1BQU11QixpQkFBaUJoRCxLQUFLMEIsUUFBUXVCLGdCQUVyQ3JCLEVBQVc1QixLQUFLeUIsTUFBTWxCLGNBQzFCUCxLQUFLMEIsUUFBUXdCLHNCQUdmbEQsS0FBS21ELG1CQUFtQnhCLEVBQVdDLEdBRW5DRCxFQUFVeUIsU0FBUSxTQUFDakIsR0FDakJBLEVBQVluQixpQkFBaUIsU0FBUyxXQUNwQyxFQUFLcUMsb0JBQW9CbEIsR0FDekIsRUFBS2dCLG1CQUFtQnhCLEVBQVdDLEVBQ3JDLEdBQ0YsR0FDRixNLG9FQUFDLEVBOUQrQixHLHVxQkNBYjBCLEVBQU8sV0FDMUIsYUFBaUNDLEdBQW1CLElBQXRDQyxFQUFLLEVBQUxBLE1BQU9DLEVBQVEsRUFBUkEsVSw0RkFBUSxTQUMzQnpELEtBQUswRCxlQUFpQkYsRUFDdEJ4RCxLQUFLMkQsVUFBWUYsRUFDakJ6RCxLQUFLNEQsV0FBYXRELFNBQVNDLGNBQWNnRCxFQUMzQyxDLFFBVUMsTyxFQVZBLEcsRUFBQSxzQkFFRCxTQUFRTSxHQUNON0QsS0FBSzRELFdBQVdFLE9BQU9ELEVBQ3pCLEdBQUMsc0JBRUQsV0FBVyxXQUNUN0QsS0FBSzBELGVBQWVOLFNBQVEsU0FBQ1csR0FDM0IsRUFBS0osVUFBVUksRUFDakIsR0FDRixNLG9FQUFDLEVBZnlCLEcsdXFCQ0FQQyxFQUFLLFdBQ3hCLFdBQVlDLEksNEZBQWUsU0FDekJqRSxLQUFLa0UsT0FBUzVELFNBQVNDLGNBQWMwRCxHQUNyQ2pFLEtBQUttRSxnQkFBa0JuRSxLQUFLbUUsZ0JBQWdCQyxLQUFLcEUsS0FDbkQsQyxRQWlEQyxPLEVBakRBLEcsRUFBQSw4QkFFRCxTQUFnQnFFLEdBQ0UsV0FBWkEsRUFBSUMsS0FDTnRFLEtBQUt1RSxPQUVULEdBQUMsa0JBRUQsV0FDRXZFLEtBQUtrRSxPQUFPL0MsVUFBVVcsSUFBSSxzQkFDMUJ4QixTQUFTVSxpQkFBaUIsVUFBV2hCLEtBQUttRSxnQkFDNUMsR0FBQyxtQkFFRCxXQUNFbkUsS0FBS2tFLE9BQU8vQyxVQUFVRSxPQUFPLHNCQUM3QmYsU0FBU2tFLG9CQUFvQixVQUFXeEUsS0FBS21FLGlCQUU3QyxJQUFNTSxFQUFnQm5FLFNBQVMwQyxpQkFBaUIsZ0JBQzFDMEIsRUFBVXBFLFNBQVMwQyxpQkFBaUIsaUJBQ3BDMkIsRUFBUXJFLFNBQVMwQyxpQkFBaUIsZUFFeEN5QixFQUFjckIsU0FBUSxTQUFDWCxHQUNyQkEsRUFBYXRCLFVBQVVFLE9BQU8sMkJBQ2hDLElBRUFxRCxFQUFRdEIsU0FBUSxTQUFDd0IsR0FDZkEsRUFBT3pELFVBQVVXLElBQUksOEJBQ3JCOEMsRUFBTzVDLGFBQWEsWUFBWSxFQUNsQyxJQUVBMkMsRUFBTXZCLFNBQVEsU0FBQzVCLEdBQ2JBLEVBQUtxRCxPQUNQLEdBQ0YsR0FBQywrQkFFRCxXQUFvQixXQUNDdkUsU0FBUzBDLGlCQUFpQixpQkFFbENJLFNBQVEsU0FBQzBCLEdBQ2xCQSxFQUFROUQsaUJBQWlCLFNBQVMsV0FDaEMsRUFBS3VELE9BQ1AsR0FDRixJQUVBdkUsS0FBS2tFLE9BQU9sRCxpQkFBaUIsU0FBUyxTQUFDcUQsR0FDakNBLEVBQUlVLE9BQU81RCxVQUFVNkQsU0FBUyxVQUNoQyxFQUFLVCxPQUVULEdBQ0YsTSxvRUFBQyxFQXJEdUIsRyxndkNDQUssSUFFVlUsRUFBYyxhLHFSQUFBLFUsUUFBQSxHLEVBQUEsRSxxckJBQ2pDLGFBQWMsTUFFYSxPLDRGQUZiLFVBQ1osY0FBTSxvQkFDREMsb0JBQW9CLENBQzNCLENBZUMsTyxFQWZBLEcsRUFBQSxtQkFFRCxTQUFLaEYsRUFBTUUsR0FDVCxJQUFNK0UsRUFBb0I3RSxTQUFTQyxjQUNqQyw0QkFHSTZFLEVBQVdELEVBQWtCNUUsY0FBYyxlQUMzQzhFLEVBQWFGLEVBQWtCNUUsY0FBYyxpQkFFbkQ2RSxFQUFTdEUsSUFBTVYsRUFDZmdGLEVBQVNyRSxJQUFNYixFQUNmbUYsRUFBV3hFLFlBQWNYLEVBRXpCLHdDQUNGLE0sb0VBQUMsRUFuQmdDLENBQVM4RCxHLGd2Q0NGYixJQUVWc0IsRUFBYSxhLHFSQUFBLFUsUUFBQSxHLEVBQUEsRSxxckJBQ2hDLFdBQVlyQixFQUFlLEdBQWdELE1BQTlDc0IsRUFBWSxFQUFaQSxhQUFjQyxFQUFVLEVBQVZBLFdBQVlDLEVBQWdCLEVBQWhCQSxpQkFLNUIsTyw0RkFMNEMsVUFDckUsY0FBTXhCLElBQ0R5QixjQUFnQkgsRUFDckIsRUFBS0ksWUFBY0gsRUFDbkIsRUFBS0ksa0JBQW9CSCxFQUN6QixFQUFLUCxvQkFBb0IsQ0FDM0IsQ0F5QkMsTyxFQXpCQSxHLEVBQUEsOEJBQ0QsV0FBa0IsV0FTaEIsT0FSQWxGLEtBQUs2RixXQUFhdkYsU0FBUzBDLGlCQUFpQixnQkFFNUNoRCxLQUFLOEYsWUFBYyxDQUFDLEVBRXBCOUYsS0FBSzZGLFdBQVd6QyxTQUFRLFNBQUMyQyxHQUN2QixFQUFLRCxZQUFZQyxFQUFNN0YsTUFBUTZGLEVBQU1DLEtBQ3ZDLElBRU9oRyxLQUFLOEYsV0FDZCxHQUFDLCtCQUVELFdBQW9CLFdBQ0N4RixTQUFTQyxjQUFjUCxLQUFLMkYsYUFDbENyRixTQUFTQyxjQUFjUCxLQUFLMEYsZUFFcEMxRSxpQkFBaUIsVUFBVSxTQUFDcUQsR0FDL0JBLEVBQUk0QixpQkFFSixFQUFLTCxrQkFBa0IsRUFBS00sbUJBQzVCLEVBQUszQixPQUNQLElBRUEscURBQ0YsTSxvRUFBQyxFQWhDK0IsQ0FBU1AsRyx1cUJDRnRCbUMsRUFBUSxXQUMzQixjQUE2QyxJQUEvQkMsRUFBWSxFQUFaQSxhQUFjQyxFQUFhLEVBQWJBLGUsNEZBQWEsU0FDdkNyRyxLQUFLQyxNQUFRSyxTQUFTQyxjQUFjNkYsR0FDcENwRyxLQUFLc0csT0FBU2hHLFNBQVNDLGNBQWM4RixFQUN2QyxDLFFBWUMsTyxFQVpBLEcsRUFBQSwwQkFFRCxXQUNFLE1BQU8sQ0FDTG5HLEtBQU1GLEtBQUtDLE1BQU1ZLFlBQ2pCMEYsTUFBT3ZHLEtBQUtzRyxPQUFPekYsWUFFdkIsR0FBQyx5QkFFRCxTQUFZWCxFQUFNcUcsR0FDaEJ2RyxLQUFLQyxNQUFNWSxZQUFjWCxFQUN6QkYsS0FBS3NHLE9BQU96RixZQUFjMEYsQ0FDNUIsTSxvRUFBQyxFQWhCMEIsR0NvQ3ZCQyxFQUFvQixtQkFDcEJDLEVBQVNuRyxTQUFTQyxjQUFjLFdBRWhDbUcsRUFBZSxJQUFJekIsRUFDbkIwQixFQUFjLElBQUlyRCxFQUN0QixDQUNFRSxNQWxDaUIsQ0FDbkIsQ0FDRXRELEtBQU0sbUJBQ05FLEtBQU0sb0RBRVIsQ0FDRUYsS0FBTSxjQUNORSxLQUFNLHVEQUVSLENBQ0VGLEtBQU0sb0JBQ05FLEtBQU0sMERBRVIsQ0FDRUYsS0FBTSxVQUNORSxLQUFNLG1EQUVSLENBQ0VGLEtBQU0sOEJBQ05FLEtBQU0sbURBRVIsQ0FDRUYsS0FBTSxpQkFDTkUsS0FBTSxpREFZTnFELFNBQVUsU0FBQ00sR0FDVCxJQVNNNkMsRUFUTyxJQUFJaEgsRUFDZixDQUNFRSxTQUFVaUUsRUFDVmhFLGtCQUFtQixTQUFDRyxFQUFNRSxHQUN4QnNHLEVBQWFHLEtBQUszRyxFQUFNRSxFQUMxQixHQUVGb0csR0FFb0JNLGFBRXRCSCxFQUFZSSxRQUFRSCxFQUN0QixHQXJCc0IsV0EwQjFCRCxFQUFZbEQsV0FFWixJQUNNdUQsRUFBYTFHLFNBQVNDLGNBQWMscUJBS3BDMEcsRUFBWTNHLFNBQVNDLGNBQWMsMEJBQ25DMkcsRUFBYTVHLFNBQVNDLGNBQWMsMkJBQ3BDNEcsRUFBZSxJQUFJaEIsRUFBUyxDQUNoQ0MsYUFMZSxpQkFNZkMsY0FMZ0Isc0JBUVplLEVBQVksSUFBSTlCLEVBYkUsbUJBYTZCLENBQ25EQyxhQVpvQiwwQkFhcEJDLFdBWmlCLDRCQWFqQkMsaUJBQWtCLFdBQ2hCLElBQU00QixFQUFXLENBQ2ZuSCxLQUFNK0csRUFBVWpCLE1BQ2hCTyxNQUFPVyxFQUFXbEIsT0FHcEJtQixFQUFhRyxZQUFZRCxFQUFTbkgsS0FBTW1ILEVBQVNkLE1BQ25ELElBR0ZTLEVBQVdoRyxpQkFBaUIsU0FBUyxXQUNuQ29HLEVBQVVQLE9BRVZJLEVBQVVqQixNQUFRbUIsRUFBYUksY0FBY3JILEtBQzdDZ0gsRUFBV2xCLE1BQVFtQixFQUFhSSxjQUFjaEIsS0FDaEQsSUFFQSxJQUFNaUIsRUFBZWxILFNBQVNDLGNBQWMsb0JBSXRDa0gsRUFBYW5ILFNBQVNDLGNBQWMsMkJBQ3BDbUgsRUFBWXBILFNBQVNDLGNBQWMsMEJBRW5Db0gsRUFBVyxJQUFJckMsRUFKSyxrQkFJNEIsQ0FDcERDLGFBUHNCLDRCQVF0QkMsV0FQbUIsOEJBUW5CQyxpQkFBa0IsV0FDaEIsSUFBTW1DLEVBQU8sQ0FDWDFILEtBQU11SCxFQUFXekIsTUFDakI1RixLQUFNc0gsRUFBVTFCLE9BRVo2QixFQUFPLElBQUlqSSxFQUNmLENBQ0VFLFNBQVU4SCxFQUNWN0gsa0JBQW1CLFNBQUNHLEVBQU1FLEdBQ3hCc0csRUFBYUcsS0FBSzNHLEVBQU1FLEVBQzFCLEdBRUZvRyxHQUdGQyxFQUFPcUIsUUFBUUQsRUFBS2YsY0FFcEJXLEVBQVd6QixNQUFRLEdBQ25CMEIsRUFBVTFCLE1BQVEsRUFDcEIsSUFFRndCLEVBQWF4RyxpQkFBaUIsU0FBUyxXQUNyQzJHLEVBQVNkLE1BQ1gsSUFFQSxJQUFNa0IsRUFBWSxDQUNoQjlFLGNBQWUsZUFDZkMscUJBQXNCLGdCQUN0Qm5CLG9CQUFxQiw2QkFDckJhLGdCQUFpQix5QkFDakJDLFdBQVksNEJBRURtRixFQUFXMUgsU0FBU3FFLE1BQU1zRCxLQUMxQkMsRUFBVTVILFNBQVNxRSxNQUFNN0MsSUFDdEMsSUFBSVIsRUFBY3lHLEVBQVdDLEdBQVVHLG1CQUN2QyxJQUFJN0csRUFBY3lHLEVBQVdHLEdBQVNDLGtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJvamV0bzhfYXJvdW5kX3RoZV91cy8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJvamV0bzhfYXJvdW5kX3RoZV91cy8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanMiLCJ3ZWJwYWNrOi8vcHJvamV0bzhfYXJvdW5kX3RoZV91cy8uL3NyYy9jb21wb25lbnRzL1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vcHJvamV0bzhfYXJvdW5kX3RoZV91cy8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3Byb2pldG84X2Fyb3VuZF90aGVfdXMvLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcm9qZXRvOF9hcm91bmRfdGhlX3VzLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qcyIsIndlYnBhY2s6Ly9wcm9qZXRvOF9hcm91bmRfdGhlX3VzLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vcHJvamV0bzhfYXJvdW5kX3RoZV91cy8uL3NyYy9wYWdlL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKHsgY2FyZERhdGEsIGhhbmRsZUJ1dHRvbkNsaWNrIH0sIGNhcmRTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fbmFtZSA9IGNhcmREYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gY2FyZERhdGEubGluaztcclxuICAgIHRoaXMuaGFuZGxlQnV0dG9uQ2xpY2sgPSBoYW5kbGVCdXR0b25DbGljaztcclxuICAgIHRoaXMuX2NhcmRTZWxlY3RvciA9IGNhcmRTZWxlY3RvcjtcclxuICB9XHJcblxyXG4gIF9nZXRUZW1wbGF0ZSgpIHtcclxuICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlXCIpXHJcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbiAgICB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudGl0bGVcIikudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19pbWdcIikuc3JjID0gdGhpcy5fbGluaztcclxuICAgIHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZV9faW1nXCIpLmFsdCA9IHRoaXMuX25hbWU7XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBjb25zdCB0b2dnbGVMaWtlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19saWtlaWNvblwiKTtcclxuICAgIHRvZ2dsZUxpa2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2xpa2VCdXR0b24oKSk7XHJcblxyXG4gICAgY29uc3QgZGVsZXRlQnV0dG9uID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19kZWxldGVcIik7XHJcbiAgICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHRoaXMuX2RlbGV0ZUNhcmQoKSk7XHJcblxyXG4gICAgY29uc3QgbW9kYWxJbWdPcGVuID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLnBsYWNlX19pbWFnZVwiKTtcclxuICAgIG1vZGFsSW1nT3Blbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICB0aGlzLmhhbmRsZUJ1dHRvbkNsaWNrKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfbGlrZUJ1dHRvbigpIHtcclxuICAgIGNvbnN0IHRvZ2dsZUxpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucGxhY2VfX2xpa2VpY29uXCIpO1xyXG4gICAgdG9nZ2xlTGlrZS5jbGFzc0xpc3QudG9nZ2xlKFwicGxhY2VfX2xpa2VpY29uX3N0YXRlX2FjdGl2ZVwiKTtcclxuICB9XHJcblxyXG4gIF9kZWxldGVDYXJkKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnLCBmb3JtKSB7XHJcbiAgICB0aGlzLl9mb3JtID0gZm9ybTtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KGlucHV0TGlzdCkpIHtcclxuICAgICAgYnV0dG9uRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIGJ1dHRvbkVsLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgYnV0dG9uRWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIGJ1dHRvbkVsLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcclxuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoZm9ybUlucHV0RWwpID0+IHtcclxuICAgICAgcmV0dXJuICFmb3JtSW5wdXRFbC52YWxpZGl0eS52YWxpZDtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShmb3JtSW5wdXRFbCkge1xyXG4gICAgaWYgKCFmb3JtSW5wdXRFbC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9zaG93RXJyb3IoZm9ybUlucHV0RWwsIGZvcm1JbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2hpZGVFcnJvcihmb3JtSW5wdXRFbCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2hvd0Vycm9yKGZvcm1JbnB1dEVsLCBlcnJvck1lc3NhZ2UpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7Zm9ybUlucHV0RWwuaWR9LWVycm9yYCk7XHJcblxyXG4gICAgZm9ybUlucHV0RWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IGVycm9yTWVzc2FnZTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9oaWRlRXJyb3IoZm9ybUlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvcihgLiR7Zm9ybUlucHV0RWwuaWR9LWVycm9yYCk7XHJcblxyXG4gICAgZm9ybUlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9IFwiXCI7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgY29uc3QgaW5wdXRMaXN0ID0gQXJyYXkuZnJvbShcclxuICAgICAgdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yQWxsKHRoaXMuX2NvbmZpZy5pbnB1dFNlbGVjdG9yKVxyXG4gICAgKTtcclxuICAgIGNvbnN0IGJ1dHRvbkVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKFxyXG4gICAgICB0aGlzLl9jb25maWcuc3VibWl0QnV0dG9uU2VsZWN0b3JcclxuICAgICk7XHJcblxyXG4gICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoaW5wdXRMaXN0LCBidXR0b25FbCk7XHJcblxyXG4gICAgaW5wdXRMaXN0LmZvckVhY2goKGZvcm1JbnB1dEVsKSA9PiB7XHJcbiAgICAgIGZvcm1JbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGZvcm1JbnB1dEVsKTtcclxuICAgICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZShpbnB1dExpc3QsIGJ1dHRvbkVsKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMgPSBpdGVtcztcclxuICAgIHRoaXMuX3JlbmRlcmVyID0gcmVuZGVyZXI7XHJcbiAgICB0aGlzLl9jb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGNvbnRhaW5lclNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIGFkZEl0ZW0oZWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29udGFpbmVyLmFwcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHJlbmRlcmVyKCkge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG59XHJcbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XHJcbiAgICB0aGlzLl9wb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UoZXZ0KSB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gXCJFc2NhcGVcIikge1xyXG4gICAgICB0aGlzLmNsb3NlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZChcIm1vZGFsX3N0YXRlX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX3N0YXRlX29wZW5lZFwiKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuXHJcbiAgICBjb25zdCBlcnJvcnNNZXNzYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19lcnJvclwiKTtcclxuICAgIGNvbnN0IGJ1dHRvbnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmZvcm1fX2J1dHRvblwiKTtcclxuICAgIGNvbnN0IGZvcm1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5mb3JtX19mb3JtXCIpO1xyXG5cclxuICAgIGVycm9yc01lc3NhZ2UuZm9yRWFjaCgoZXJyb3JNZXNzYWdlKSA9PiB7XHJcbiAgICAgIGVycm9yTWVzc2FnZS5jbGFzc0xpc3QucmVtb3ZlKFwiZm9ybV9fZXJyb3Jfc3RhdGVfYWN0aXZlXCIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgYnV0dG9ucy5mb3JFYWNoKChidXR0b24pID0+IHtcclxuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoXCJmb3JtX19idXR0b25fbW9kZV9kaXNhYmxlZFwiKTtcclxuICAgICAgYnV0dG9uLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgZm9ybXMuZm9yRWFjaCgoZm9ybSkgPT4ge1xyXG4gICAgICBmb3JtLnJlc2V0KCk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3QgY2xvc2VNb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2Nsb3NlXCIpO1xyXG5cclxuICAgIGNsb3NlTW9kYWwuZm9yRWFjaCgobW9kYWxFbCkgPT4ge1xyXG4gICAgICBtb2RhbEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcIm1vZGFsXCIpKSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHN1cGVyKFwiLm1vZGFsX3R5cGVfaW1nXCIpO1xyXG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgb3BlbihuYW1lLCBsaW5rKSB7XHJcbiAgICBjb25zdCBwb3B1cEltZ0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcbiAgICAgIFwiLm1vZGFsX193cmFwcGVyX3R5cGVfaW1nXCJcclxuICAgICk7XHJcblxyXG4gICAgY29uc3QgaW1nUG9wdXAgPSBwb3B1cEltZ0NvbnRhaW5lci5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19pbWdcIik7XHJcbiAgICBjb25zdCB0aXRsZVBvcHVwID0gcG9wdXBJbWdDb250YWluZXIucXVlcnlTZWxlY3RvcihcIi5tb2RhbF9fdGl0bGVcIik7XHJcblxyXG4gICAgaW1nUG9wdXAuc3JjID0gbGluaztcclxuICAgIGltZ1BvcHVwLmFsdCA9IG5hbWU7XHJcbiAgICB0aXRsZVBvcHVwLnRleHRDb250ZW50ID0gbmFtZTtcclxuXHJcbiAgICBzdXBlci5vcGVuKCk7XHJcbiAgfVxyXG59XHJcbiIsImltcG9ydCBQb3B1cCBmcm9tIFwiLi9Qb3B1cC5qc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yLCB7IGZvcm1TZWxlY3RvciwgYnV0dG9uRm9ybSwgaGFuZGxlRm9ybVN1Ym1pdCB9KSB7XHJcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcclxuICAgIHRoaXMuX2Zvcm1TZWxlY3RvciA9IGZvcm1TZWxlY3RvcjtcclxuICAgIHRoaXMuX2J1dHRvbkZvcm0gPSBidXR0b25Gb3JtO1xyXG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IGhhbmRsZUZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuZm9ybV9faW5wdXRcIik7XHJcblxyXG4gICAgdGhpcy5fZm9ybVZhbHVlcyA9IHt9O1xyXG5cclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3QgZm9ybUJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fYnV0dG9uRm9ybSk7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLl9mb3JtU2VsZWN0b3IpO1xyXG5cclxuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVXNlckluZm8ge1xyXG4gIGNvbnN0cnVjdG9yKHsgc2VsZWN0b3JOYW1lLCBzZWxlY3RvckFib3V0IH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHNlbGVjdG9yTmFtZSk7XHJcbiAgICB0aGlzLl9hYm91dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3JBYm91dCk7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiB7XHJcbiAgICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICAgIGFib3V0OiB0aGlzLl9hYm91dC50ZXh0Q29udGVudCxcclxuICAgIH07XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhuYW1lLCBhYm91dCkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IG5hbWU7XHJcbiAgICB0aGlzLl9hYm91dC50ZXh0Q29udGVudCA9IGFib3V0O1xyXG4gIH1cclxufVxyXG4iLCJpbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBGb3JtVmFsaWRhdG9yIGZyb20gXCIuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0b3IuanNcIjtcclxuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcclxuaW1wb3J0IFwiLi9pbmRleC5jc3NcIjtcclxuXHJcbmNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbGUgZGUgWW9zZW1pdGVcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUveW9zZW1pdGUuanBnXCIsXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiBcIkxhZ28gTG91aXNlXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vY29kZS5zMy55YW5kZXgubmV0L3dlYi1jb2RlL2xha2UtbG91aXNlLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJNb250YW5oYXMgQ2FyZWNhc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9iYWxkLW1vdW50YWlucy5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGF0ZW1hclwiLFxyXG4gICAgbGluazogXCJodHRwczovL2NvZGUuczMueWFuZGV4Lm5ldC93ZWItY29kZS9sYXRlbWFyLmpwZ1wiLFxyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogXCJQYXJxdWUgTmFjaW9uYWwgZGEgVmFub2lzZSBcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvdmFub2lzZS5qcGdcIixcclxuICB9LFxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFnbyBkaSBCcmFpZXNcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9jb2RlLnMzLnlhbmRleC5uZXQvd2ViLWNvZGUvbGFnby5qcGdcIixcclxuICB9LFxyXG5dO1xyXG5cclxuY29uc3QgcGxhY2VMaXN0U2VsZWN0b3IgPSBcIi5wbGFjZXNcIjtcclxuY29uc3QgcGxhY2VDYXJkVGVtcGxhdGUgPSBcIi5wbGFjZV9fdGVtcGxhdGVcIjtcclxuY29uc3QgcGxhY2VzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wbGFjZXNcIik7XHJcblxyXG5jb25zdCBtb2RhbEltZ09wZW4gPSBuZXcgUG9wdXBXaXRoSW1hZ2UoKTtcclxuY29uc3QgYWRkTmV3UGxhY2UgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBpdGVtczogaW5pdGlhbENhcmRzLFxyXG4gICAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICAgIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgICAgICB7XHJcbiAgICAgICAgICBjYXJkRGF0YTogaXRlbSxcclxuICAgICAgICAgIGhhbmRsZUJ1dHRvbkNsaWNrOiAobmFtZSwgbGluaykgPT4ge1xyXG4gICAgICAgICAgICBtb2RhbEltZ09wZW4ub3BlbihuYW1lLCBsaW5rKTtcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICBwbGFjZUNhcmRUZW1wbGF0ZVxyXG4gICAgICApO1xyXG4gICAgICBjb25zdCBjYXJkRWxlbSA9IGNhcmQuY3JlYXRlQ2FyZCgpO1xyXG5cclxuICAgICAgYWRkTmV3UGxhY2UuYWRkSXRlbShjYXJkRWxlbSk7XHJcbiAgICB9LFxyXG4gIH0sXHJcbiAgcGxhY2VMaXN0U2VsZWN0b3JcclxuKTtcclxuXHJcbmFkZE5ld1BsYWNlLnJlbmRlcmVyKCk7XHJcblxyXG5jb25zdCBtb2RhbEVkaXRPcGVuZWQgPSBcIi5tb2RhbF90eXBlX2VkaXRcIjtcclxuY29uc3QgZWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYnV0dG9uX3R5cGVfZWRpdFwiKTtcclxuY29uc3QgZm9ybUVkaXRDbGFzcyA9IFwiLmZvcm1fX2Zvcm1fYWN0aW9uX2VkaXRcIjtcclxuY29uc3QgYnV0dG9uRWRpdCA9IFwiLmZvcm1fX2J1dHRvbl9hY3Rpb25fc2F2ZVwiO1xyXG5jb25zdCBodG1sTmFtZSA9IFwiLnByb2ZpbGVfX25hbWVcIjtcclxuY29uc3QgaHRtbEFib3V0ID0gXCIucHJvZmlsZV9fYWJvdXRtZVwiO1xyXG5jb25zdCBuYW1lSW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZvcm1fX2lucHV0X3R5cGVfbmFtZVwiKTtcclxuY29uc3QgYWJvdXRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfdHlwZV9hYm91dFwiKTtcclxuY29uc3QgcHJvZmlsT25QYWdlID0gbmV3IFVzZXJJbmZvKHtcclxuICBzZWxlY3Rvck5hbWU6IGh0bWxOYW1lLFxyXG4gIHNlbGVjdG9yQWJvdXQ6IGh0bWxBYm91dCxcclxufSk7XHJcblxyXG5jb25zdCBtb2RhbEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybShtb2RhbEVkaXRPcGVuZWQsIHtcclxuICBmb3JtU2VsZWN0b3I6IGZvcm1FZGl0Q2xhc3MsXHJcbiAgYnV0dG9uRm9ybTogYnV0dG9uRWRpdCxcclxuICBoYW5kbGVGb3JtU3VibWl0OiAoKSA9PiB7XHJcbiAgICBjb25zdCBkYXRhSW5mbyA9IHtcclxuICAgICAgbmFtZTogbmFtZUlucHV0LnZhbHVlLFxyXG4gICAgICBhYm91dDogYWJvdXRJbnB1dC52YWx1ZSxcclxuICAgIH07XHJcblxyXG4gICAgcHJvZmlsT25QYWdlLnNldFVzZXJJbmZvKGRhdGFJbmZvLm5hbWUsIGRhdGFJbmZvLmFib3V0KTtcclxuICB9LFxyXG59KTtcclxuXHJcbmVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBtb2RhbEVkaXQub3BlbigpO1xyXG5cclxuICBuYW1lSW5wdXQudmFsdWUgPSBwcm9maWxPblBhZ2UuZ2V0VXNlckluZm8oKS5uYW1lO1xyXG4gIGFib3V0SW5wdXQudmFsdWUgPSBwcm9maWxPblBhZ2UuZ2V0VXNlckluZm8oKS5hYm91dDtcclxufSk7XHJcblxyXG5jb25zdCBhZGROZXdCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmJ1dHRvbl90eXBlX2FkZFwiKTtcclxuY29uc3QgZm9ybUFkZE5ld0NsYXNzID0gXCIuZm9ybV9fZm9ybV9hY3Rpb25fY3JlYXRlXCI7XHJcbmNvbnN0IGJ1dHRvbkFkZE5ldyA9IFwiLmZvcm1fX2J1dHRvbl9hY3Rpb25fY3JlYXRlXCI7XHJcbmNvbnN0IG1vZGFsQWRkTmV3T3BlbmVkID0gXCIubW9kYWxfdHlwZV9hZGRcIjtcclxuY29uc3QgdGl0bGVQbGFjZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZm9ybV9faW5wdXRfdHlwZV90aXRsZVwiKTtcclxuY29uc3QgbGlua0ltYWdlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mb3JtX19pbnB1dF90eXBlX2xpbmtcIik7XHJcblxyXG5jb25zdCBtb2RhbEFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKG1vZGFsQWRkTmV3T3BlbmVkLCB7XHJcbiAgZm9ybVNlbGVjdG9yOiBmb3JtQWRkTmV3Q2xhc3MsXHJcbiAgYnV0dG9uRm9ybTogYnV0dG9uQWRkTmV3LFxyXG4gIGhhbmRsZUZvcm1TdWJtaXQ6ICgpID0+IHtcclxuICAgIGNvbnN0IGRhdGEgPSB7XHJcbiAgICAgIG5hbWU6IHRpdGxlUGxhY2UudmFsdWUsXHJcbiAgICAgIGxpbms6IGxpbmtJbWFnZS52YWx1ZSxcclxuICAgIH07XHJcbiAgICBjb25zdCBjYXJkID0gbmV3IENhcmQoXHJcbiAgICAgIHtcclxuICAgICAgICBjYXJkRGF0YTogZGF0YSxcclxuICAgICAgICBoYW5kbGVCdXR0b25DbGljazogKG5hbWUsIGxpbmspID0+IHtcclxuICAgICAgICAgIG1vZGFsSW1nT3Blbi5vcGVuKG5hbWUsIGxpbmspO1xyXG4gICAgICAgIH0sXHJcbiAgICAgIH0sXHJcbiAgICAgIHBsYWNlQ2FyZFRlbXBsYXRlXHJcbiAgICApO1xyXG5cclxuICAgIHBsYWNlcy5wcmVwZW5kKGNhcmQuY3JlYXRlQ2FyZCgpKTtcclxuXHJcbiAgICB0aXRsZVBsYWNlLnZhbHVlID0gXCJcIjtcclxuICAgIGxpbmtJbWFnZS52YWx1ZSA9IFwiXCI7XHJcbiAgfSxcclxufSk7XHJcbmFkZE5ld0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIG1vZGFsQWRkLm9wZW4oKTtcclxufSk7XHJcblxyXG5jb25zdCBjb25maWdPYmogPSB7XHJcbiAgaW5wdXRTZWxlY3RvcjogXCIuZm9ybV9faW5wdXRcIixcclxuICBzdWJtaXRCdXR0b25TZWxlY3RvcjogXCIuZm9ybV9fYnV0dG9uXCIsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJmb3JtX19idXR0b25fbW9kZV9kaXNhYmxlZFwiLFxyXG4gIGlucHV0RXJyb3JDbGFzczogXCJmb3JtX19pbnB1dF9tb2RlX2Vycm9yXCIsXHJcbiAgZXJyb3JDbGFzczogXCJmb3JtX19lcnJvcl9zdGF0ZV9hY3RpdmVcIixcclxufTtcclxuZXhwb3J0IGNvbnN0IGZvcm1FZGl0ID0gZG9jdW1lbnQuZm9ybXMuZWRpdDtcclxuZXhwb3J0IGNvbnN0IGZvcm1BZGQgPSBkb2N1bWVudC5mb3Jtcy5hZGQ7XHJcbm5ldyBGb3JtVmFsaWRhdG9yKGNvbmZpZ09iaiwgZm9ybUVkaXQpLmVuYWJsZVZhbGlkYXRpb24oKTtcclxubmV3IEZvcm1WYWxpZGF0b3IoY29uZmlnT2JqLCBmb3JtQWRkKS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiJdLCJuYW1lcyI6WyJDYXJkIiwiY2FyZFNlbGVjdG9yIiwiY2FyZERhdGEiLCJoYW5kbGVCdXR0b25DbGljayIsInRoaXMiLCJfbmFtZSIsIm5hbWUiLCJfbGluayIsImxpbmsiLCJfY2FyZFNlbGVjdG9yIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwidGV4dENvbnRlbnQiLCJzcmMiLCJhbHQiLCJhZGRFdmVudExpc3RlbmVyIiwiX2xpa2VCdXR0b24iLCJfZGVsZXRlQ2FyZCIsImNsYXNzTGlzdCIsInRvZ2dsZSIsInJlbW92ZSIsIkZvcm1WYWxpZGF0b3IiLCJjb25maWciLCJmb3JtIiwiX2Zvcm0iLCJfY29uZmlnIiwiaW5wdXRMaXN0IiwiYnV0dG9uRWwiLCJfaGFzSW52YWxpZElucHV0IiwiYWRkIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsInNldEF0dHJpYnV0ZSIsInJlbW92ZUF0dHJpYnV0ZSIsInNvbWUiLCJmb3JtSW5wdXRFbCIsInZhbGlkaXR5IiwidmFsaWQiLCJfaGlkZUVycm9yIiwiX3Nob3dFcnJvciIsInZhbGlkYXRpb25NZXNzYWdlIiwiZXJyb3JNZXNzYWdlIiwiZXJyb3JFbGVtZW50IiwiaWQiLCJpbnB1dEVycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiQXJyYXkiLCJmcm9tIiwicXVlcnlTZWxlY3RvckFsbCIsImlucHV0U2VsZWN0b3IiLCJzdWJtaXRCdXR0b25TZWxlY3RvciIsIl90b2dnbGVCdXR0b25TdGF0ZSIsImZvckVhY2giLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwiU2VjdGlvbiIsImNvbnRhaW5lclNlbGVjdG9yIiwiaXRlbXMiLCJyZW5kZXJlciIsIl9yZW5kZXJlZEl0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImVsZW1lbnQiLCJhcHBlbmQiLCJpdGVtIiwiUG9wdXAiLCJwb3B1cFNlbGVjdG9yIiwiX3BvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiYmluZCIsImV2dCIsImtleSIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImVycm9yc01lc3NhZ2UiLCJidXR0b25zIiwiZm9ybXMiLCJidXR0b24iLCJyZXNldCIsIm1vZGFsRWwiLCJ0YXJnZXQiLCJjb250YWlucyIsIlBvcHVwV2l0aEltYWdlIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJwb3B1cEltZ0NvbnRhaW5lciIsImltZ1BvcHVwIiwidGl0bGVQb3B1cCIsIlBvcHVwV2l0aEZvcm0iLCJmb3JtU2VsZWN0b3IiLCJidXR0b25Gb3JtIiwiaGFuZGxlRm9ybVN1Ym1pdCIsIl9mb3JtU2VsZWN0b3IiLCJfYnV0dG9uRm9ybSIsIl9oYW5kbGVGb3JtU3VibWl0IiwiX2lucHV0TGlzdCIsIl9mb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsInByZXZlbnREZWZhdWx0IiwiX2dldElucHV0VmFsdWVzIiwiVXNlckluZm8iLCJzZWxlY3Rvck5hbWUiLCJzZWxlY3RvckFib3V0IiwiX2Fib3V0IiwiYWJvdXQiLCJwbGFjZUNhcmRUZW1wbGF0ZSIsInBsYWNlcyIsIm1vZGFsSW1nT3BlbiIsImFkZE5ld1BsYWNlIiwiY2FyZEVsZW0iLCJvcGVuIiwiY3JlYXRlQ2FyZCIsImFkZEl0ZW0iLCJlZGl0QnV0dG9uIiwibmFtZUlucHV0IiwiYWJvdXRJbnB1dCIsInByb2ZpbE9uUGFnZSIsIm1vZGFsRWRpdCIsImRhdGFJbmZvIiwic2V0VXNlckluZm8iLCJnZXRVc2VySW5mbyIsImFkZE5ld0J1dHRvbiIsInRpdGxlUGxhY2UiLCJsaW5rSW1hZ2UiLCJtb2RhbEFkZCIsImRhdGEiLCJjYXJkIiwicHJlcGVuZCIsImNvbmZpZ09iaiIsImZvcm1FZGl0IiwiZWRpdCIsImZvcm1BZGQiLCJlbmFibGVWYWxpZGF0aW9uIl0sInNvdXJjZVJvb3QiOiIifQ==